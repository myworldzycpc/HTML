# **题目描述**

![](/p/ZYC003/file/%E4%BC%A0%E7%BB%9FMC%E8%83%8C%E6%99%AF.png)

**2014年7月29日的白天，平原群系，一片浅滩中。**

惊天动地的一声，从天而降一团蓝色的东西。史蒂夫，诞生在了一片河流边缘的浅滩之中。河水打湿了史蒂夫的蓝色短袖，破旧的背包里灌满了河水。他郁闷至极。

一只粉粉嫩嫩小猪恰巧经过这里，发现了这只从天而降的奇怪生物。便把他“捡”回了家，从此一人、一猪在这个世界上相伴而生。

他合成出了第一把剑，在夜晚杀死了无数只怪物。他合成出了第一个熔炉，夜晚不断地给熔炉添加木头以点亮夜空，却不知这个世界本可以拥有火把；他合成出了第一把锄头，用它开垦荒地、农田、制作面包，得以果腹不再流离失所。

慢慢地，史蒂夫长大了。终于有一天，他告诉它：小猪小猪，谢谢你一直陪着我，我高三了，我要去用很久很久的时间来准备高考，对不起，但是我不得不离开了……

小猪：嗷嗷、哼哼、哼唧、呼噜、呼噜噜...

<font color="red"><b>Steve 退出了 游戏...</b></font>

@[video](/p/ZYC003/file/第一段.mp4)

**2024年10月24日的夜晚，森林群系，一棵树下。**

一只僵尸瘫在草方块上，无力的倚靠着树干，百无聊赖地望着夜空。点点星光映着漆黑的夜色在悄悄地斗转星移。一轮满月即将沉入天际尽头的地平线。

一只骷髅握着一把破旧的弓，走了过来，他看了一眼僵尸：“天快亮了，我们回洞穴里去吧...”僵尸呆在原地，沉默了许久，一声自言自语的叹息：“那还有什么意义？”

终于，满月渐渐变小，阳光初升的那一刻。僵尸放下了双臂，在阳光里，渐渐燃成了灰烬。

可再也没人会捡走腐肉了……

@[video](/p/ZYC003/file/%E7%AC%AC%E4%BA%8C%E6%AE%B5.mp4)

**2024年10月25日，晴，洞穴群系。**

骷髅目睹了僵尸的一切，他不解，握紧了手中破旧的弓箭。转身问身边的苦力怕：“为什么他会放弃自己的信仰，放下自己的双手？”

苦力怕苦笑一声，喃喃自语：“因为他明白，自己再也等不到那个弱小，却并不懦弱，努力活着的史蒂夫了。”

骷髅怔住了，望着不远处的腐肉，他扔掉了手中破旧的弓，走出了山洞。

从此，草方块上多了一块上下抖动的骨头……

@[video](/p/ZYC003/file/第三段.mp4)

**2030年5月5日，平原村庄，破旧的小屋。**

床上空无一人，早已没有了往日的余温，熔炉里已积了很多灰，箱锁也生了锈，工作台上结满了蛛网。

“这间房是曾经史蒂夫住过的屋子，当年村庄村民稀少，这原本是一间无人居住的没有床的小屋。史蒂夫——一位游历世界的冒险家，他带着一只狼，路过这里，便住了下来。村庄从此繁荣了起来。”

“后来呢，后来呢？”小村民瞪着大眼睛，好奇地等待着后面的故事。

铁傀儡放下了手中的花，“后来啊，他离开了，没有人知道他的去向。那只狼就在屋子里等啊...等啊，希望将来可以等到它主人的归来。”

“那他为什么要走呢？”小村民追问。

铁傀儡把手中的花递给了小村民，“或许是因为责任，就好比我的责任是守护村庄，守护你们每一个村民。在另一个世界，也有他所要承担的责任吧...”小村民想了想，若有所思的点了点头。

@[video](/p/ZYC003/file/%E7%AC%AC%E5%9B%9B%E6%AE%B5.mp4)

**∞年过去了**

**20∞∞年∞月∞日**

村庄遭受到了袭击，资源被掠夺殆尽，濒临死亡的铁傀儡用尽最后一丝力气保护了小村民，整个村庄唯有小村民侥幸存活。

夜晚，僵尸包围了整个村庄，满身裂纹的铁傀儡终于无法继续战斗下去了，化作了铁粉。那位天真的小村民，最终还是受到了僵尸的攻击，变成了小僵尸......

村庄不再、断壁残垣、蛛网遍地、从此再无生机。

就在这时，小 Z 来到了这个世界。他要用自己熟练的指令技术，去拯救这个世界。

小 Z 是一个 MC 指令大神，然而即使他的指令技术特别精通，也难免会出现一些差错。因此，他需要你来帮他写一个程序，来预判指令的输出。避免到游戏中执行的时候出问题，以至于整个世界毁灭于他的手中...

## **注意事项:**

* <font color="red"><b>做这道题之前，若你对Minecraft指令缺少了解，则应仔细阅读题目注意事项，并认真阅读[输入](#输入)中的指令语法及输入输出格式、[实体选择器](#实体选择器)以及[JSON文本](#json文本)等</b></font>
* 题面中除了最后的图片以外的链接均链接到题面的其他位置。比如上面的链接“[输入](#输入)”、“[实体选择器](#实体选择器)”和“[JSON文本](#json文本)”，都是标题定位链接，而不是链接到其他页面。
* 世界最初没有任何实体, [**实体选择器**](#实体选择器)`@r`也不会出现在指令中.
* 小 Z 在最初就已经在游戏中, 并且小 Z 不会退出游戏.
* 世界上不会出现重名的两个玩家.
* 玩家的名称仅由字母、数字和下划线组成. 小 Z 的昵称为 `myworldzycpc`
* 世界生成器是**未开启生成建筑**的默认超平坦地形, 为便于处理, 本世界使用 $y$ 坐标 $0\sim255$, $x$ 和 $z$ 坐标 $-30000000\sim30000000$ 的地形生成范围. 基岩(`minecraft:bedrock`)层的$y$坐标是$0$, 泥土(`minecraft:dirt`)的$y$坐标是 $1\sim2$, 草方块(`minecraft:grass_block`)的坐标是 $3$, 草方块**不会**因为上方有方块而变为泥土. ($4\sim255$的位置全是空气(`minecraft:air`))。
* 为了方便处理, 输出中的一切方块、实体 (除玩家外) 、药水效果与物品的名称使用原始id, 如`minecraft:grass`, 保证指令语法正确, 并且使用的一切方块、实体、药水效果和物品的id均正常存在. 例如 (见样例1)
* 游戏版本为1.18.1, 草方块的id是`minecraft:grass_block`.
* 世界上的所有实体包括玩家, 都是静止不动的, 无AI且不会受重力影响, 不会受漂浮或缓降效果的影响而改变位置, 只会受`/tp`指令的作用而改变位置.
* 无需考虑下界和末地, 因为对于所有的输入, 玩家在指令执行的过程中不会触碰到传送门和折跃门.
* 输出中所有标点符号统一使用半角标点.  (输入中也只会出现半角标点)
* 对于所有的输入, 不会放置实体方块 (如: 命令方块、结构方块、箱子、熔炉等) .
* 药水效果的时间会减少，每执行1次操作，药水效果的时间减少1秒.
* 世界上不会自然生成实体, 生命值不会自然恢复, 药水效果不会影响玩家生命值, 玩家的饥饿值不会减少.
* 玩家能够受到窒息伤害, 当玩家的头部 (即玩家的y坐标+1的位置) 的方块不是空气`minecraft:air`的时候 (包括透明方块) , 接下来每执行一次操作, 玩家将受到1点伤害, 当玩家的生命值降为0时, 玩家立刻重生返回重生点.
* 为了方便处理, 玩家在死亡后会立刻重生, 死亡后物品栏清空 (而不会掉落变成实体) , 并且没有3秒的无敌时间.
* 世界的出生点是 $x=0,y=4,z=0$, 玩家第一次进入游戏会出现在世界出生点处, 玩家最初的重生点也是世界出生点, 玩家的重生点可以通过`/spawnpoint`指令来修改, 玩家退出游戏后, 玩家将不存在于这个世界上, 但玩家的数据会保留, 玩家重新加入游戏时, 玩家会出现在他退出游戏的位置.
* 游戏语言为`简体中文` (看样例也明白吧, 注意不是`文言文`或`繁體中文`) .
* 世界上的流体都不会流动.
* 默认游戏模式是生存模式 `survival` , 创造模式 `creative` 和旁观模式 `spectator` 下无法受到伤害.
* `/give` 指令不会爆背包。
* 玩家初始的生命值为 $20$ 。
* [**点击查看实体选择器介绍**](#实体选择器)
* [**点击查看JSON文本介绍**](#json文本)
* [**点击查看JSON介绍**](#json)
* [**点击查看全部指令语法**](#%2Ftp)
* 题目描述中，[注意事项](#注意事项:)之前的故事纯属虚构。

# **输入**

> 注意: 输入描述可能有点复杂, 具体可见输入样例.

第一行输入一个整数 $n$, 表示操作次数

接下来 $n$ 行, 每行行首有一个字符串, 来表示操作的类型:

* `joinGame` 玩家进入游戏, 仅有一个参数`玩家名称`, 对应的输出应为`xxx 加入了游戏`
* `leaveGame` 玩家退出游戏, 仅有一个参数`玩家名称`, 对应的输出应是`xxx 退出了游戏`
* `sendMessage` 发送消息或是执行指令, 有2个参数, 第一个参数与`sendMessage` 有一个空格相隔, 是`玩家名称`, 保证玩家已存在于这个世界上, 玩家名称后面有一个空格, 空格后面的全部为第二个参数`回车敲下的行`. 如果为发送消息, 则消息前无`斜杠/`, 应该输出带尖括号玩家名称+空格+消息原样. 如果为执行指令, 则指令前有`斜杠/`

由于部分指令过于复杂, 输入中只会出现以下指令:

<blockquote>

**注意:**

`<参数名: 数据类型>`是指令参数, 不包括尖括号. 若数据类型为`Target`, 则表示[**实体选择器**](#实体选择器); 若数据类型为`Single`, 则表示**有且仅有一个实体的实体选择器**; 若数据类型为`Player`, 则表示**仅包括玩家的实体选择器**; 若数据类型为`SinglePlayer`, 则表示**有且仅有一个玩家的实体选择器**。`SinglePlayer`属于`Single`，也属于`Player`；`SinglePlayer`、`Single`、`Player`都属于`Target`。

</blockquote>

<table>

<tr><td>

<font color="black">

## **/tp**

</font>

<font color="black">

**描述**: 此指令可将实体/玩家传送到某个坐标.

</font>

<font color="black">

**语法**:

</font>

<font color="black">

- `/tp <x: int> <y: int> <z: int>` 把指令的执行者传送到 $(x,y,z)$ 处.
- `/tp <目标: Target> <x: int> <y: int> <z: int>` 把`目标`传送到 $(x,y,z)$ 处.
- `/tp <目标: Target> <目的地: Single> ` 把`目标`传送到`目的地`所在的位置.

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已将myworldzycpc传送到10, 10, 10`
- `已将50个实体传送到tang_chao_ji_yan`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/tp 10 10 10` 把自己传送到 $(10,10,10)$ 坐标处。
- `/tp @e @s` 把所有实体传送到自己。

</font>

</td></tr>

<tr><td>

<font color="black">

## **/give**

</font>

<font color="black">

**描述**：此指令可将一些物品送入玩家物品栏。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/give <目标: Player> <物品: string>` 给`目标`一个`物品`
- `/give <目标: Player> <物品: string> <数量: int>` 给`目标` `数量`个`物品`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已将一个[minecraft:grass]给予myworldzycpc`
- `已将64个[minecraft:stone]给予tang_chao_ji_yan`
- `已将128个[minecraft:diamond]给予10个实体`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/give @s minecraft:command_block` 给自己1个`minecraft:command_block`
- `/give @a minecraft:stone 233` 给所有玩家233个`minecraft:stone`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/setblock**

</font>

<font color="black">

**描述**：此指令可以修改某个确切位置的方块。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/setblock <x: int> <y: int> <z: int> <方块: string>` 将 $(x,y,z)$位置的方块修改为`方块`。

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `更改了位于10, 10, 10的方块`
- `无法放置方块` (当没有方块被更改时，或者是坐标超出世界范围时，指令执行失败）

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/setblock 10 10 10 minecraft:stone`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/fill**

</font>

<font color="black">

**描述**：此指令可以填充一个方块矩形（最多32768个方块，即 $(|x_1-x_2|+1)\times(|y_1-y_2|+1)\times(|z_1-z_2|+1)\leq32768$ ）。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/fill <x1: int> <y1: int> <z1: int> <x2: int> <y2: int> <z2: int> <方块: string>` 把  $(x_1,y_1,z_1)\sim(x_2,y_2,z_2)$ 的范围内的所有方块全部填充为`方块`。
- `/fill <x1: int> <y1: int> <z1: int> <x2: int> <y2: int> <z2: int> <方块: string> replace <替换掉的方块: string>` 把  $(x_1,y_1,z_1)\sim(x_2,y_2,z_2)$ 的范围内的所有`替换掉的方块`全部填充为`方块`。
- `/fill <x1: int> <y1: int> <z1: int> <x2: int> <y2: int> <z2: int> <方块: string> keep <保留的方块: string>` 把  $(x_1,y_1,z_1)\sim(x_2,y_2,z_2)$ 的范围内的所有`保留的方块`以外的方块全部填充为`方块`。
- `/fill <x1: int> <y1: int> <z1: int> <x2: int> <y2: int> <z2: int> <方块: string> destroy` 把  $(x_1,y_1,z_1)\sim(x_2,y_2,z_2)$ 的范围内的所有方块全部填充为`方块`，采取破坏式填充，即无论某一位置的方块填充后是否发生变动，都计入填充的总方块数。因此，总方块数即 $(|x_1-x_2|+1)\times(|y_1-y_2|+1)\times(|z_1-z_2|+1)$ 。

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `成功地填充了3个方块`
- `没有方块被填充`
- `指定区域内的方块太多(最大值为32768, 指定值为121203)`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/fill 10 10 10 20 30 5 minecarft:stone`
- `/fill 10 10 10 20 30 5 minecarft:stone replace minecraft:grass`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/clear**

</font>

<font color="black">

**描述**：此指令可以清空玩家物品栏中的特定物品

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/clear` 清空指令执行者物品栏所有物品
- `/clear <目标: Player>` 清空`目标`物品栏所有物品
- `/clear <目标: Player> <物品名: string>` 清空`目标`物品栏所有`物品名`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已移除玩家myworldzycpc的63个物品`
- `未能从玩家myworldzycpc找到任何物品`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/clear @a minecraft:stone`
- `/clear @s`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/clone**

</font>

<font color="black">

**描述**：此指令可以复制一个矩形内的方块到另一位置

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/clone <x1: int> <y1: int> <z1: int> <x2: int> <y2: int> <z2: int> <x: int> <y: int> <z: int> ` 将 $(x_1,y_1,z_1)\sim(x_2,y_2,z_2)$ 范围内的所有方块复制到 $(x,y,z)$ 处（ $(x,y,z)$ 作为新位置的长方体的三个坐标的最小值）。若新位置与原位置有重叠，则新位置的方块会覆盖掉原位置的方块。

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已成功复制8个方块`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/clone 10 10 10 11 11 11 12 12 12`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/say**

</font>

<font color="black">

**描述**：此指令可以发送一段带实体选择器信息

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/say <信息: string with Targets and space>`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `[myworldzycpc] 最近的玩家是 tang_chao_ji_yan`
- `[myworldzycpc] 世界上存在这些实体: myworldzycpc, minecraft:sheep, tang_chao_ji_yan, minecraft:cow` (按加入世界的顺序，间隔一个逗号一个空格)

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/say 最近的玩家是 @a[limit=1,sort=nearest]`
- `/say 世界上存在这些实体: @e`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/me**

</font>

<font color="black">

**描述**：此指令可以发送一段以星号 `*` 开头的信息（不存在实体选择器）

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/me <信息: string with space>`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `* myworldzycpc hello world`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/me hello world`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/gamemode**

</font>

<font color="black">

**描述**：此指令可以修改玩家的游戏模式

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/gamemode <游戏模式: string>` 把自己的游戏模式修改为 `游戏模式`
- `/gamemode <游戏模式: string> <目标: Player>` 把 `目标` 的游戏模式修改为 `游戏模式`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `你的游戏模式已被设置为旁观模式`
- `已将myworldzycpc的游戏模式设置为生存模式`
- `已将20个实体的游戏模式设置为旁观模式`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/gamemode spectator`
- `/gamemode survival @a`

</font>

<font color="black">

**注意**：一共有4种游戏模式：生存模式 `survival`、冒险模式 `adventure`、创造模式 `creative`和旁观模式`spectator`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/effect**

</font>

<font color="black">

**描述**：给予或清除玩家状态效果。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/effect give <目标: Target> <效果名: string>` 给予 `目标` 持续时间为30秒，等级为0的 `效果名` 状态效果
- `/effect give <目标: Target> <效果名: string> <持续时间: int> <等级: int>` 给予 `目标` 持续时间为 `持续时间`秒，等级为`等级`的`效果名` 状态效果
- `/effect clear <目标: Target> <效果名: string>` 清除 `目标` 的 `效果名` 状态效果
- `/effect clear <目标: Target>` 清除 `目标` 的所有状态效果

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已将minecraft:absorption效果应用于myworldzycpc`
- `无法应用此效果(对象对效果免疫, 或已有更强的效果)` 若实体已有此效果，且指令中的时长和等级均低于实体已有时，指令会执行失败。
- `已移除myworldzycpc的minecraft:absorption效果`
- `对象没有指定效果`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/effect give @s minecraft:absorption`
- `/effect give @e[type=minecraft:zombie] minecraft:absorption 10 20`
- `/effect clear @a minecraft:absorption`
- `/effect clear @s`

</font>

<font color="black">

**注意**：

</font>

<font color="black">

- 若实体已有此效果，且指令中的时长和等级均低于实体已有时，指令会执行失败。
- 若实体已有此效果，指令中的时长低于实体已有，但等级高于实体已有时，使用指令的效果覆盖玩家已有的此效果。
- 若实体已有此效果，指令中的等级低于实体已有，但时长高于实体已有时，使用指令的时长覆盖玩家已有的此效果时长，但保留原来更高的等级。

</font>

</td></tr>

<tr><td>

<font color="black">

## **/xp**

</font>

<font color="black">

**描述**：操作玩家的经验值

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/xp add <目标: Player> <点数: int>` 给予 `目标` 玩家 `点数` 点经验
- `/xp add <目标: Player> <点数: int>` 给予 `目标` 玩家 `点数` 点经验
- `/xp query <目标: SinglePlayer>` 输出 `目标` 玩家的经验数量
- `/xp set <目标: Player> <点数: int>` 设置玩家的经验值

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已给予myworldzycpc 1点经验`
- `myworldzycpc拥有12点经验值`
- `已将myworldzycpc的经验值设为1`
- `已给予myworldzycpc -100点经验`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/xp add @a 1`
- `/xp query @s`
- `/xp set @s 1`
- `/xp add @s -100`

</font>

<font color="black">

**注意**：当经验值小于0时，经验值会被重设为0

</font>

</td></tr>

<tr><td>

<font color="black">

## **/kill**

</font>

<font color="black">

**描述**：清除一个实体（从世界上移除），或是清除一个玩家（把玩家送回重生点，并重设生命值为 $20$，重设经验值为 $0$，清空物品栏）

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/kill` 清除自己
- `/kill <目标: Target>` 清除 `目标`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已清除myworldzycpc`
- `已清除50个实体`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/kill @e`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/list**

</font>

<font color="black">

**描述**：列出所有在线玩家

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/list`

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `当前共有2名玩家在线: myworldzycpc, tang_chao_ji_yan` (按照加入先后排序，并以一个逗号和一个空格隔开)

</font>

</td></tr>

<tr><td>

<font color="black">

## **/scoreboard**

</font>

<font color="black">

**描述**：计分板

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `scoreboard objectives <记分项: string> dummy` 创建一个具有给定的名称的记分项
- `scoreboard players add <目标: Target> <记分项: string> <分数: int>` 往实体 `目标` 在记分项 `记分项` 上的分数增加 `分数` 分。如果没有分数则当作0分修改。**`目标` 所指定的实体不必存在，可以使用自定义的名称，下同。**
- `scoreboard players remove <目标: Target> <记分项: string> <分数: int>` 往实体 `目标` 在记分项 `记分项` 上的分数减少 `分数` 分。如果没有分数则当作0分修改。
- `scoreboard players set <目标: Target> <记分项: string> <分数: int>` 将实体 `目标` 在记分项 `记分项` 上的分数设为 `分数` 分。
- `scoreboard players get<目标: Target> <记分项: string>` 显示该实体在记分项上的分数。
- `operation <目标: Target> <目标记分项: string> <操作: string> <来源: Target> <来源记分项: string>` 使用 `来源` 在 `来源记分项` 记分项上的分数作为输入，进行运算操作后把结果作为实体 `目标` 在 `目标记分项` 上的分数。 运算操作 `操作` 可以是：
  - `+=` 求和：把 `来源` 在 `来源记分项` 记分项上的分数 加到  `目标` 在 `目标记分项` 上的分数上。
  - `-=` 求差：在 `目标` 在 `目标记分项` 上的分数上减去 `来源` 在 `来源记分项` 记分项上的分数。
  - `*=` 求积：将 `目标` 在 `目标记分项` 上的分数设为目标名称的分数与 `来源` 在 `来源记分项` 记分项上的分数的乘积。
  - `/=` 求商：将 `目标` 在 `目标记分项` 上的分数设为被 `来源` 在 `来源记分项` 记分项上的分数除后的结果（保留整数）。
  - `%=` 求余：将 `目标` 在 `目标记分项` 上的分数设为被 `来源` 在 `来源记分项` 记分项上的分数除后得到的余数。
  - `=` 赋值：把 `目标` 在 `目标记分项` 上的分数设为 `来源` 在 `来源记分项` 记分项上的分数。

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

见输入输出样例3

</font>

<font color="black">

**例如**：

</font>

<font color="black">

见输入输出样例3

</font>

</td></tr>

<tr><td>

<font color="black">

## **/summon**

</font>

<font color="black">

**描述**：召唤一个实体。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/summon <实体名: string>` 在指令执行者的位置召唤一个 `实体名` 实体
- `/summon <实体名: string> <x: int> <y: int> <z: int>` 在 $(x,y,z)$ 的位置召唤一个实体

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `召唤了新的minecraft:sheep`

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/summon minecraft:sheep`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/tellraw**

</font>

<font color="black">

**描述**：直接输出一行[JSON文本](#json文本)。

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/tellraw <内容: JSON文本 with space>` 直接输出 `内容` 的最终转义结果

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- 执行：`/tellraw ["hello", {"text": "world"}]`，输出：`hello world`
- 执行：`/tellraw [["1",2],"3"]`，输出：`123`
- 执行：`/tellraw [{"selector":"@s"}," is me"]`，输出：`myworldzycpc is me`

</font>

</td></tr>

<tr><td>

<font color="black">

## **/spawnpoint**

</font>

<font color="black">

**描述**：设置玩家的重生点

</font>

<font color="black">

**语法**：

</font>

<font color="black">

- `/spawnpoint` 将自己的重生点设为当前位置
- `/spawnpoint <目标: Player>` 将 `目标` 的重生点全部设为指令执行者所在的位置
- `/spawnpoint <目标: Player> <x: int> <y: int> <z: int>` 将 `目标` 的重生点全部设为位置 $(x,y,z)$

</font>

<font color="black">

**输出格式**：

</font>

<font color="black">

- `已将myworldzycpc的重生点设为3, -60, 8` (注：原本提示是 `已将myworldzycpc在minecraft:overworld的出生点设为3, -60, 8[0.0]` ，但为了节省运算量，简化了输出。

</font>

<font color="black">

**例如**：

</font>

<font color="black">

- `/spawnpoint @a`
- `/spawnpoint @s 3 -60 8`

</font>

</td></tr>

</table>

# **输出**

输出共 $n$ 行, 每行一个输出.

输出中所有标点符号统一使用半角标点.  (输入中也只会出现半角标点)

规范要求: 冒号和逗号的右边需要加空格, 而括号两边不需要加空格, 汉字和数字、汉字和字母之间不需要加空格 (所有输入除[**实体选择器**](#实体选择器)不包含空格以外, 也都符合规范) .

# **样例**

```input1
1
sendMessage myworldzycpc /give @s minecraft:grass
```

```output1
已将一个[minecraft:grass]给予myworldzycpc
```

## **解释**

输出中的一切方块、实体、药水效果与物品的名称使用原始id

```input2
3
joinGame tang_chao_ji_yan
sendMessage myworldzycpc 我来看看有谁来了
sendMessage myworldzycpc /list
```

```output2
tang_chao_ji_yan 加入了游戏
<myworldzycpc> 我来看看有谁来了
当前共有2名玩家在线: myworldzycpc, tang_chao_ji_yan
```

## **解释**

最初世界上只有一个玩家: `myworldzycpc`

---

`joinGame tang_chao_ji_yan`

输出为: `tang_chao_ji_yan 加入了游戏`

现在世界上有2个玩家: `myworldzycpc`和`tang_chao_ji_yan`.

---

`sendMessage myworldzycpc 我来看看有谁来了`

输出为: `<myworldzycpc> 我来看看有谁来了`

`myworldzycpc`在聊天栏发送`我来看看有谁来了`, 由于没有斜杠, 因此是发送消息, 按消息格式输出.

---

`sendMessage myworldzycpc /list`

输出为: `当前共有2名玩家在线: myworldzycpc, tang_chao_ji_yan`

`myworldzycpc`执行指令`/list`

同时, 现在世界上有2个玩家: `myworldzycpc`和`tang_chao_ji_yan`, `/list`的输出按玩家加入游戏的顺序排列, 输出中所有标点符号统一使用半角标点.  (输入中也只会出现半角标点) 由此可以取得输出.

---

```input3
5
sendMessage myworldzycpc /scoreboard objectives add test dummy
sendMessage myworldzycpc /scoreboard players add @s test 100
sendMessage myworldzycpc /scoreboard players set tt test 1
sendMessage myworldzycpc /scoreboard players operation @s test += tt test
sendMessage myworldzycpc /scoreboard players operation tt test *= @s test
```

```output3
创建了新的计分项[test]
将myworldzycpc的[test]增加了100(现在是100)
已将tt的[test]分数设为1
已将myworldzycpc的[test]设为101
已将tt的[test]设为101
```

## **解释**

按序执行指令即可

```input4
16
sendMessage myworldzycpc /setblock 10 10 10 minecraft:stone
sendMessage myworldzycpc /setblock 10 10 10 minecraft:stone destroy
sendMessage myworldzycpc /setblock 10 10 10 minecraft:stone destroy
sendMessage myworldzycpc /setblock 10 10 10 minecraft:stone
sendMessage myworldzycpc /fill 10 11 10 10 9 10 minecraft:redstone_block
sendMessage myworldzycpc /fill 10 11 10 11 9 10 minecraft:redstone_block
sendMessage myworldzycpc /fill 10 11 10 11 99 11 minecraft:redstone_block
sendMessage myworldzycpc /fill 10 11 10 10 9 10 minecraft:redstone_block
sendMessage myworldzycpc /fill 100 11 100 -100 9 -100 minecraft:stone replace minecraft:redstone_block
sendMessage myworldzycpc /fill 20 11 20 -10 9 -10 minecraft:stone replace minecraft:redstone_block
sendMessage myworldzycpc /gamemode spectator
sendMessage myworldzycpc /tp 10 10 10
sendMessage myworldzycpc /setblock ~ ~1 ~ minecraft:lapis_ore
sendMessage myworldzycpc /give @s minecraft:bedrock 35
sendMessage myworldzycpc /give @s minecraft:bedrock 28
sendMessage myworldzycpc /clear myworldzycpc minecraft:bedrock
```

```output4
更改了位于10, 10, 10的方块
更改了位于10, 10, 10的方块
更改了位于10, 10, 10的方块
无法放置方块
成功地填充了3个方块
成功地填充了3个方块
成功地填充了354个方块
没有方块被填充
指定区域内的方块太多(最大值为32768, 指定值为121203)
成功地填充了8个方块
你的游戏模式已被设置为旁观模式
已将myworldzycpc传送到10, 10, 10
更改了位于10, 11, 10的方块
已将35个[minecraft:bedrock]给予myworldzycpc
已将28个[minecraft:bedrock]给予myworldzycpc
已移除玩家myworldzycpc的63个物品
```

## **解释**

按序执行指令即可, 注意输出要符合规范.

# **数据范围**

对于 $100\%$ 的数据, $n\leq1000$, 指令中出现的所有坐标均为整数.

对于 $10\%$ 的数据, 保证输入的操作只有`joinGame`和`leaveGame`

对于另外 $10\%$ 的数据, 保证输入的操作只有`sendMessage`

对于另外 $10\%$ 的数据, 保证执行的指令仅存在`/say`、`/me`、`/list`.

对于另外 $10\%$ 的数据, 不存在带方括号的[**实体选择器**](#实体选择器), 并且执行的指令不存在`/tellraw`.

对于另外 $10\%$ 的数据, 保证执行的指令不存在`/tellraw`.

对于另外 $10\%$ 的数据, 玩家进入游戏后不会退出游戏.

对于 $70\%$ 的数据, 不存在执行失败的指令.

# **提示**

1. 出题用了一个星期 (2022年10月14日 ~ 2022年10月21日)

# **实体选择器**

实体选择器用来代指一个或多个实体, 也有可能不存在符合选择器的实体. 若实体选择器找不到实体, 则指令会执行失败.

**注意: 实体选择器不会包含空格, 即使是在逗号的后面.**

玩家名称也是一种特殊的实体选择器, 所代指的实体就是此名称对应的玩家.

例如: `/tp myworldzycpc tang_chao_ji_yan`

玩家名称不能结合扩展选择器使用.

## **基础选择器**

基础选择器确定了实体选择的大范围, 并可以结合扩展选择器使用.

### @s **(不可结合扩展选择器使用)**

`@s` 表示指令的执行者, 自然一定是一个玩家.

### @a

`@a` 用来代指所有玩家, 相当于 `@e[type=minecraft:player]` .

### @r

`@r` 随机获取随机数量的玩家.

<font color="red"><b>注意: 输入数据中不会出现 `@r` . </b></font>

### @e

`@e` 用来代指所有实体.

## **扩展选择器**

扩展选择器进一步细化了实体选择的条件.

扩展选择器是一系列参数, 紧跟在基础选择器的后面.

一个参数的形式是 `参数名=值`, 每个参数中间由逗号分隔, 最后在所有参数组成的串外面加方括号, 并紧随于基础选择器之后.

例如: `@a[distance=..10]` (获取距离≤10格的所有玩家) 、 `@e[type=!minecraft:player,limit=1,sort=nearest]` (获取最近的一个不是玩家的实体)

鉴于复杂度的考虑, 本题输入中的扩展选择器中只会出现以下参数:

### **type**

`type` 参数限定了实体的类型, 值有两种形式:

* `type=实体类型` 仅保留指定类型的实体.
* `type=!实体类型` 排除指定类型的实体.

例如:

* `@e[type=!minecraft:sheep]` 代指排除掉 `minecraft:sheep` 以外的所有实体;
* `@e[type=minecraft:cow]` 代指所有的 `minecraft:cow` .

### **distance**

`distance` 参数限定了实体的范围, 值有4种形式:

* `distance=n` 距离刚好为 $n$
* `distance=..n` 距离 $ \leq n$
* `distance=n..` 距离 $\geq n$
* `distance=n..m` $n \leq $ 距离 $\leq m$

例如:

* `@e[distance=20]` 代指距离指令执行者刚好20格的实体.
* `@e[distance=..20]` 代指距离指令执行者的距离小于等于20格的实体.
* `@e[distance=20..30,type=!minecraft:player]` 代指距离指令执行者的距离 $20\sim30$ 格的非玩家实体.

### **limit & sort**

`limit` 和 `sort` 联合使用, `limit` 规定了 实体的数量限制, 而 `sort` 规定了实体的优先选取法则.

`limit` 规定了 实体的数量限制, 值有1种形式:

* `limit=n` 选取 $n$ 个实体.

**注: 若 $n$ 大于符合条件的实体总数, 则实体的数量限制将失去作用.**

`sort` 规定了实体的优先选取法则，若存在 `sort=nearest` ，则优先选取最近的实体，若不存在，则优先选取最先出现的实体。

例如：

* `@e[limit=1]` 代指最先出现的实体，即 `myworldzycpc`
* `@e[limit=1,sort=nearest,distance=10..,type=!player]` 代指距离大于等于10格的实体中最近的一个非玩家实体。

# **JSON文本**

**JSON文本（JSON Text）** 是Minecraft用于给玩家发送并显示富文本的格式。JSON文本使用[JSON](#json)编写。

JSON文本由聊天组件组成。根组件可包含有子组件，而子组件也可以有自己的子组件。组件可以包含格式和交互事件，这些也会应用到他们的子组件上。

聊天组件可以使用除“null”外的所有JSON数据类型。数值和布尔值将会视为字符串处理，而字符串和数组用于简写较长的对象结构，见下文所述。

含有纯文本的字符串。与只有标签 `text` 的对象效果相同。例如，`"A"` 和 `{"text": "A"}` 等价。

布尔值将会转换为字符串直接显示。与只有标签 text的对象效果相同。例如，`true`、`"true"`和`{"text": "true"}`等价。

数值将会转换为字符串直接显示。与只有标签 text的对象效果相同。例如，`1.9`、`"1.9"` 和 `{"text": "1.9"}` 等价。

## **内容类型**

聊天组件可以显示多种类型的内容。这些标签应直接包含于聊天组件对象中。

### **纯文本**

一段纯文本。

```json
"hello world"
```

```json
{"text": "hello world"}
```

### **计分板分数**

显示实体在记分板中某个记分项的分数。

```json
{"score": {"name": "myworldzycpc", "objective": "test"}}
```

`name` ：分数持有者的名字。可以使用[实体选择器](#实体选择器)或具体名称。若为选择器，则选择器不能选择多个实体。

### **实体名称**

显示由[实体选择器](#实体选择器)找到的实体的名称。

若选择器发现了一个实体，则会显示这个实体的名称。若发现了多个实体，则会显示所有被选中的实体的名称，用分隔符 `, ` (一个逗号一个空格) 分隔。若没有发现实体，则不会显示任何文本。

```json
{"selector": "@a"}
```

`selector` ：一个目标选择器。

## **组合内容**

含有多个聊天组件的列表。

**例如** ：

```json
["I'm ", {"selector": "@s"}, ", my score at objective test is", {"score": {"name": "myworldzycpc", "objective": "test"}}, "."]
```

**格式化后的代码** ：

```json
[
  "I'm ", // 纯文本
  {
    "selector": "@s"
  }, // 实体选择器
  ", my score at objective test is", // 纯文本
  {
    "score": {
      "name": "myworldzycpc",
      "objective": "test"
    }
  }, // 计分板分数
  "." // 纯文本
]
```

**输出为（假设指令执行者为myworldzycpc，test计分项中myworldzycpc的分数为1）** ：

```
I'm myworldzycpc, my score at objective test is 1.
```

**注意** ：组合内容可以被进一步嵌套组合，例如：

```json
[["I'm ", {"selector": "@s"}], [", my score at objective test is", [{"score": {"name": "myworldzycpc", "objective": "test"}}, ["."]]]]
```

与上方代码等效。

# **JSON**

JSON（JavaScript Object Notation，JavaScript对象表示法）是一种轻量级数据交换格式。

## **语法**

JSON文件必须始终包含用于封装文件数据的大括号。虽然JSON可以写在一行内，但是一般为了可读性会加入缩进和换行。**(输入数据中的指令中不会出现换行)**

```json
{
    "string": "Hi",
    "number": 1,
    "object": {"stuff": "foobar", "digit": 13},
    "array": ["spam", "foo"]
}
```

JSON文件内所有元素的名称必须用引号引起。要定义值，便需要在名称后面添加一个冒号，并在冒号后写上值。

```json
{"name": "value"}
```

除了最后一个元素，所有包含在对象或数组中的元素需要在它们的值后面添加一个逗号。

## **数据类型**

JSON中有5种不同的有效数据类型：字符串、数值、对象、数组和布尔值。

### **字符串**

字符串由双引号定义，可以包含任何字符或空格的组合。

```json
{
    "foo": "bar",
    "spam": "eggs"
}
```

### **数值**

数值由输入的任何数字定义。

```json
{
    "two": 2,
    "one": 1,
    "second": 1
}
```

### **对象（字典）**

对象由一对大括号定义，且可以包含其他数据类型。文件开头和结尾处的大括号会组成一个对象。

```json
{
    "Bob": {
        "ID": 47182,
        "lastName": "Ramsay"
    },
    "Alice": {
        "ID": 47183,
        "lastName": "Berg"
    }
}
```

### **数组（列表）**

数组由一对中括号定义，且同样可以包含其他数据类型。

```json
{
    "people": ["Bob", "Alice", "Carlos", "Eve"]
}
```

### **布尔值**

布尔值使用“true”（真）或“false”（假）定义。

```json
{
    "Alice": {
        "isMale": false
    },
    "Bob": {
        "isMale": true
    }
}
```

---

$$
\textsf{加油，相信你能成功！}\\
\textsf{\textcolor{gray}{\small 世界的希望寄托于你的身上}}
$$

![image](/p/ZYC003/file/%E5%A4%A7%E5%90%88%E5%BD%B12022%E5%B9%B410%E6%9C%885%E6%97%A5%E6%9C%80%E7%BB%88%E4%BF%AE%E8%AE%A2%E7%89%88.png)

